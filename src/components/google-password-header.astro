---
interface Props {
    email: string;
    name: string;
    class?: string;
    id: string;
}

const { email, name, class: className, id } = Astro.props;

// Funci√≥n para obtener el color del avatar
function getAvatarColor(email: string) {
    const colors = [
        "#F44336",
        "#E91E63",
        "#9C27B0",
        "#673AB7",
        "#3F51B5",
        "#2196F3",
        "#03A9F4",
        "#00BCD4",
        "#009688",
        "#4CAF50",
        "#8BC34A",
        "#CDDC39",
        "#FFEB3B",
        "#FFC107",
        "#FF9800",
        "#FF5722",
        "#795548",
        "#9E9E9E",
        "#607D8B",
    ];
    let hash = 0;
    for (let i = 0; i < email.length; i++) {
        hash = email.charCodeAt(i) + ((hash << 5) - hash);
    }
    const index = Math.abs(hash) % colors.length;
    return colors[index];
}

const bgColor = getAvatarColor(email || "");
const initial = name?.[0]?.toUpperCase() ?? (email || " ")[0].toUpperCase();
---

<div class:list={["zIgDIc", className]} id={id}>
    <c-wiz jsmodel="hc6Ubd"
        ><div class="Wf6lSd">
            <svg
                xmlns="https://www.w3.org/2000/svg"
                width="48"
                height="48"
                viewBox="0 0 40 48"
                aria-hidden="true"
                ><path
                    fill="#4285F4"
                    d="M39.2 24.45c0-1.55-.16-3.04-.43-4.45H20v8h10.73c-.45 2.53-1.86 4.68-4 6.11v5.05h6.5c3.78-3.48 5.97-8.62 5.97-14.71z"
                ></path><path
                    fill="#34A853"
                    d="M20 44c5.4 0 9.92-1.79 13.24-4.84l-6.5-5.05C24.95 35.3 22.67 36 20 36c-5.19 0-9.59-3.51-11.15-8.23h-6.7v5.2C5.43 39.51 12.18 44 20 44z"
                ></path><path
                    fill="#FABB05"
                    d="M8.85 27.77c-.4-1.19-.62-2.46-.62-3.77s.22-2.58.62-3.77v-5.2h-6.7C.78 17.73 0 20.77 0 24s.78 6.27 2.14 8.97l6.71-5.2z"
                ></path><path
                    fill="#E94235"
                    d="M20 12c2.93 0 5.55 1.01 7.62 2.98l5.76-5.76C29.92 5.98 25.39 4 20 4 12.18 4 5.43 8.49 2.14 15.03l6.7 5.2C10.41 15.51 14.81 12 20 12z"
                ></path></svg
            >
        </div><c-data id="i6"></c-data></c-wiz
    ><div class="ObDc3 ZYOIke">
        <h1 class="vAV9bf" id="headingText"><span>{name}</span></h1><div
            class="gNJDp"
            id="headingSubtext"
        >
        </div><div class="SOeSgb">
            <div
                class="Ahygpe m8wwGd EPPJc cd29Sd xNLKcb"
                tabindex="0"
                role="link"
                aria-label={`Se ha seleccionado ${email}. Cambiar de cuenta`}
            >
                <div class="HOE91e">
                    <div class="JQ5tlb" aria-hidden="true">
                        <div
                            class="MnFlu TrZEUc image-pfp"
                            style={`background-color: ${bgColor};`}
                        >
                            {initial}
                        </div>
                    </div>
                </div><div class="IxcUte" translate="no">
                    {email}
                </div><div class="JCl8ie">
                    <svg
                        aria-hidden="true"
                        class="Qk3oof u4TTuf"
                        fill="currentColor"
                        focusable="false"
                        width="24px"
                        height="24px"
                        viewBox="0 0 24 24"
                        xmlns="https://www.w3.org/2000/svg"
                        ><path d="M7 10l5 5 5-5z"></path></svg
                    >
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .image-pfp {
        display: flex;
        justify-content: center;
        background-color: #4285f4;
        color: white;
        text-align: center;
        border-radius: 50%;
        text-transform: uppercase;
        font-family: "Google Sans", Roboto, Arial, sans-serif;
        user-select: none;
        align-items: center;
        padding: 0;
        margin: 0;
    }
</style>
